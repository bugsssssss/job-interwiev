# API Документация

## Эндпоинты

### Создание 4-значного кода для аутентификации

`POST /auth/`

Создает 4-значный код для аутентификации пользователя по номеру телефона

**Параметры запроса:**
- `phone`- номер телефона пользователя (обязательный, должен начинаться с "998" чтобы пройти валидацию) 

**Пример запроса:**
```json
{
  "phone":"998994287796"
}
```
**Пример успешного ответа:**
```json
{
  "code": 7271
}
```

### Проверка 4-значного кода аутентификации

`POST /code/`

Проверяет введенный пользователем 4-значный код аутентификации

**Параметры запроса:**
- `phone` (обязательный) - номер телефона пользователя
- `code` (обязательный) - 4-значный код аутентификации

**Пример запроса:**
```json
{
  "phone":"998994287796",
  "code": "7271"
}
```

**Пример успешного ответа:**
```json
{
  "authenticated": true,
  "user_id": 16
}
```

### Активация инвайт кода

`POST /invite/`

Активирует инвайт код для пользователя

**Параметры запроса:**
- `user_id` (обязательный) - идентификатор пользователя
- `invite` (обязательный) - инвайт код пользователя который пригласил

**Пример запроса:**
```json
{
  "user_id": 16,
  "invite": "E9SvT7"
}
```

**Пример успешного ответа:**
```json
{
  "success": true
}
```

### Получение деталей пользователя

`POST /user/`

Получает детали пользователя и его рефералов

**Параметры запроса:**
- `user_id` (обязательный) - идентификатор пользователя

**Пример запроса:**
```json
{
  "user_id": 14
}
```

**Пример успешного ответа:**
```json
{
  "id": 14,
  "phone_number": "998913551342",
  "invite_code": "459xsE",
  "activated_invite_code": "E9SvT7",
  "referals": [
    {
      "id": 10,
      "phone_number": "998936734004",
      "activated_invite_code": "459xsE"
    }
  ]
}
```

## Запуск проекта

1. В корневой папке - docker-compose build 
2. Затем - docker-compose up


## Контакты
- GitHub: [bugsssssss](https://github.com/bugsssssss)

## P.S 

Интерфейс хотел на реакте, но сам по себе проект получился бы чуть большим и ресурсоёмким, да и сторонние технологии не хотелось использовать. Если возникнет необходимость, могу запилить)